(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{192:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IFrame}));__webpack_require__(104);var templateObject_1,templateObject_2,templateObject_3,react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_theming__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),_storybook_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(279),__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},IFrame=function IFrame(_a){var config=_a.config,_b=_a.defer,defer=void 0!==_b&&_b,_c=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(defer?void 0:config.url),url=_c[0],setUrl=_c[1],_d=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),loaded=_d[0],setLoaded=_d[1];return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){if(defer){var handle=requestAnimationFrame((function(){setUrl(config.url)}));return function(){return cancelAnimationFrame(handle)}}}),[defer,config.url]),Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){setLoaded(!1)}),[url]),Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.d)("div",{css:$container},!loaded&&Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.d)(_storybook_components__WEBPACK_IMPORTED_MODULE_3__.a,{css:$loading},"Loading..."),Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.d)("iframe",{css:$iframe,src:url,allowFullScreen:config.allowFullscreen,onLoad:function onLoad(){return setLoaded(!0)}}))},$container=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.c)(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  overflow: hidden;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  overflow: hidden;\n"]))),$loading=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.c)(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n"]))),$iframe=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.c)(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n\n  z-index: 1;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n\n  z-index: 1;\n"])))},385:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return figmaURLPattern})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Figma}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(34),_IFrame__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(192),figmaURLPattern=/https:\/\/([w.-]+.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/,Figma=function Figma(_a){var config=_a.config,iframeConfig=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function isFigmaURL(url){return figmaURLPattern.test(url)}(config.url)?{url:"https://www.figma.com/embed?embed_host="+(config.embedHost||location.hostname)+"&url="+config.url,allowFullscreen:config.allowFullscreen}:(console.warn("[storybook-addon-designs] The URL you specified is not valid Figma URL.\nThe addon fallbacks to normal iframe mode.For more detail, please check <https://www.figma.com/developers/embed>."),config)}),[config.url,config.allowFullscreen,config.embedHost]);return Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.d)(_IFrame__WEBPACK_IMPORTED_MODULE_2__.a,{defer:!0,config:iframeConfig})}},386:function(module){module.exports=JSON.parse('{"name":"storybook-addon-designs","version":"6.0.1","description":"Storybook addon for embedding your design preview in addon panel","main":"cjs/index.js","module":"esm/index.js","types":"esm/index.d.ts","repository":"git@github.com:pocka/storybook-addon-designs.git","homepage":"https://github.com/pocka/storybook-addon-designs","author":"pocka <pockawoooh@gmail.com>","license":"MIT","files":["esm","cjs","blocks.js","register.js","register-tab.js","preset.js"],"dependencies":{"@figspec/react":"^0.1.6"},"devDependencies":{"@figspec/components":"^0.1.8","@storybook/addon-docs":"6.3.2","@storybook/addons":"6.3.2","@storybook/client-api":"6.3.2","@storybook/components":"6.3.2","@storybook/core-events":"6.3.2","@storybook/theming":"6.3.2","@types/react":"^16.8.8","@types/webpack-env":"^1.13.9","figma-js":"^1.13.0","react":"^16.8.4","typescript":"^3.7.0"},"scripts":{"dev":"tsc --watch --preserveWatchOutput","build":"yarn build:esm && yarn build:cjs","build:esm":"tsc","build:cjs":"tsc --module commonjs --outDir cjs","test":"echo \'No tests\' && exit 0","clean":"rm -r esm cjs","prepublishOnly":"cp ../../README.md ./ && yarn build"},"publishConfig":{"tag":"latest"},"keywords":["storybook-addon","design","figma"],"storybook":{"icon":"https://raw.githubusercontent.com/pocka/storybook-addon-designs/master/packages/assets/logo.png","displayName":"Designs"}}')},408:function(module,exports,__webpack_require__){__webpack_require__(409),__webpack_require__(778),__webpack_require__(776),__webpack_require__(777),__webpack_require__(779),module.exports=__webpack_require__(780)},476:function(module,exports){},777:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var templateObject_1,templateObject_2,Image_templateObject_1,Image_templateObject_2,templateObject_3,LinkPanel_templateObject_1,public_api=__webpack_require__(79),types=__webpack_require__(185),core_browser_esm=__webpack_require__(34),AddonName="STORYBOOK_ADDON_DESIGNS",PanelName=AddonName+"/panel",esm=__webpack_require__(11),react=(__webpack_require__(7),__webpack_require__(49),__webpack_require__(6),__webpack_require__(9),__webpack_require__(10),__webpack_require__(13),__webpack_require__(24),__webpack_require__(20),__webpack_require__(0)),placeholder=__webpack_require__(279),link_link=__webpack_require__(786),Figma=__webpack_require__(385),IFrame=__webpack_require__(192),bar=(__webpack_require__(104),__webpack_require__(399)),separator=__webpack_require__(787),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Pan_Pan=function Pan(_a){var children=_a.children,className=_a.className,style=_a.style,defaultValue=_a.defaultValue,value=_a.value,onChange=_a.onChange,_b=Object(react.useState)([0,0]),offset=_b[0],move=_b[1];Object(react.useEffect)((function(){move(defaultValue||(value||[0,0]))}),[defaultValue]);var panHandlers=function usePan(cb,deps){var _a=Object(react.useState)([0,0]),savePosition=(_a[0],_a[1]),_b=Object(react.useState)(!1),isPanning=_b[0],setPanState=_b[1],onMouseDown=Object(react.useCallback)((function(ev){0===ev.button&&(savePosition([ev.screenX,ev.screenY]),setPanState(!0))}),[setPanState,savePosition]),onTouchStart=Object(react.useCallback)((function(ev){var touch=ev.touches[0];savePosition([touch.screenX,touch.screenY]),setPanState(!0)}),[setPanState,savePosition]),move=Object(react.useCallback)((function(p){isPanning&&savePosition((function(prev){return cb([p[0]-prev[0],p[1]-prev[1]]),p}))}),__spreadArrays([savePosition,isPanning],deps)),onMouseMove=Object(react.useCallback)((function(ev){var screenX=ev.screenX,screenY=ev.screenY;move([screenX,screenY])}),[move]),onTouchMove=Object(react.useCallback)((function(ev){var _a=ev.touches[0],screenX=_a.screenX,screenY=_a.screenY;move([screenX,screenY])}),__spreadArrays([savePosition,isPanning],deps)),clear=Object(react.useCallback)((function(){savePosition([0,0]),setPanState(!1)}),[setPanState,savePosition]);return{onMouseDown:onMouseDown,onMouseMove:onMouseMove,onMouseUp:clear,onMouseLeave:clear,onTouchStart:onTouchStart,onTouchMove:onTouchMove,onTouchCancel:clear,onTouchEnd:clear}}((function(delta){onChange&&onChange(delta),move((function(prev){return[prev[0]+delta[0],prev[1]+delta[1]]}))}),[move,onChange]),transform=Object(react.useMemo)((function(){var vec=value||offset;return{transform:"translate("+vec[0]+"px, "+vec[1]+"px)"}}),[value,offset]);return Object(core_browser_esm.d)("div",__assign({css:$container,className:className,style:style},panHandlers),Object(core_browser_esm.d)("div",{css:$transformLayer,style:transform},children))},$container=Object(core_browser_esm.c)(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  overflow: hidden;\n\n  &:active {\n    cursor: move;\n  }\n"],["\n  position: relative;\n  overflow: hidden;\n\n  &:active {\n    cursor: move;\n  }\n"]))),$transformLayer=Object(core_browser_esm.c)(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]))),bar_button=__webpack_require__(398),icon=__webpack_require__(194),ZoomButtons_ZoomButtons=function ZoomButtons(_a){var onZoomIn=_a.onZoomIn,onZoomOut=_a.onZoomOut,onReset=_a.onReset;return Object(core_browser_esm.d)(react.Fragment,null,Object(core_browser_esm.d)(bar_button.a,{onClick:onZoomIn},Object(core_browser_esm.d)(icon.a,{icon:"zoom"})),Object(core_browser_esm.d)(bar_button.a,{onClick:onZoomOut},Object(core_browser_esm.d)(icon.a,{icon:"zoomout"})),Object(core_browser_esm.d)(bar_button.a,{onClick:onReset},Object(core_browser_esm.d)(icon.a,{icon:"zoomreset"})))},Image_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},Image_ImagePreview=function ImagePreview(_a){var config=_a.config,zoom=function useZoom(initialValue,deps){var _a=Object(react.useState)(1),scale=_a[0],setScale=_a[1];return Object(react.useEffect)((function(){setScale(initialValue)}),deps),{scale:scale,zoomIn:Object(react.useCallback)((function(){setScale((function(prevScale){return prevScale+.1}))}),[setScale]),zoomOut:Object(react.useCallback)((function(){setScale((function(prevScale){return Math.max(prevScale-.1,.1)}))}),[setScale]),resetZoom:Object(react.useCallback)((function(){setScale(1)}),[setScale])}}(config.scale||1,[config.scale]),imageStyles=Object(react.useMemo)((function(){return{transform:"scale("+zoom.scale+")"}}),[zoom.scale]);return Object(core_browser_esm.d)("div",{css:Image_$container},Object(core_browser_esm.d)(bar.a,{border:!0},Object(core_browser_esm.d)(react.Fragment,{key:"left"},Object(core_browser_esm.d)("p",null,Object(core_browser_esm.d)("b",null,"Image")),Object(core_browser_esm.d)(separator.a,null),Object(core_browser_esm.d)(ZoomButtons_ZoomButtons,{onReset:zoom.resetZoom,onZoomIn:zoom.zoomIn,onZoomOut:zoom.zoomOut}))),Object(core_browser_esm.d)(Pan_Pan,{css:$preview,defaultValue:config.offset},Object(core_browser_esm.d)("img",{css:$image,src:config.url,style:imageStyles})))},Image_$container=Object(core_browser_esm.c)(Image_templateObject_1||(Image_templateObject_1=Image_makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),$preview=Object(core_browser_esm.c)(Image_templateObject_2||(Image_templateObject_2=Image_makeTemplateObject(["\n  flex-grow: 1;\n"],["\n  flex-grow: 1;\n"]))),$image=Object(core_browser_esm.c)(templateObject_3||(templateObject_3=Image_makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n\n  pointer-events: none;\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n\n  pointer-events: none;\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n"]))),LinkPanel_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},LinkPanel_LinkPanel=function LinkPanel(_a){var _b,_c,_d,config=_a.config;return Object(core_browser_esm.d)("div",{css:LinkPanel_$container},Object(core_browser_esm.d)(link_link.a,{cancel:!1,href:config.url,target:null!==(_b=config.target)&&void 0!==_b?_b:"_blank",rel:null!==(_c=config.rel)&&void 0!==_c?_c:"noopener",withArrow:null===(_d=config.showArrow)||void 0===_d||_d},config.label||config.url))},LinkPanel_$container=Object(core_browser_esm.c)(LinkPanel_templateObject_1||(LinkPanel_templateObject_1=LinkPanel_makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),tabs_tabs=__webpack_require__(788),Tabs_Tabs=function Tabs(_a){var tabs=_a.tabs,_b=Object(react.useState)(tabs[0].id),selected=_b[0],setSelected=_b[1];return Object(react.useEffect)((function(){setSelected(tabs[0].id)}),[tabs]),Object(core_browser_esm.d)(tabs_tabs.b,{absolute:!0,selected:selected,actions:{onSelect:setSelected}},tabs.map((function(tab){return Object(core_browser_esm.d)("div",{key:tab.id,id:tab.id,title:tab.name},tab.offscreen||selected===tab.id?tab.content:null)})))},Wrapper_assign=function(){return(Wrapper_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Wrapper_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},Figspec=Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(5),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,850))})),Wrapper_Wrapper=function Wrapper(_a){var config=_a.config;if(!config||"length"in config&&0===config.length)return Object(core_browser_esm.d)(placeholder.a,null,Object(core_browser_esm.d)(react.Fragment,null,"No designs found"),Object(core_browser_esm.d)(react.Fragment,null,"Learn how to"," ",Object(core_browser_esm.d)(link_link.a,{href:"https://github.com/pocka/storybook-addon-designs#usage",target:"_blank",rel:"noopener",withArrow:!0,cancel:!1},"display design preview for the story")));var tabs=Wrapper_spreadArrays(config instanceof Array?config:[config]).map((function(cfg,i){var _a,meta={id:JSON.stringify(cfg),name:cfg.name||cfg.type.toUpperCase(),offscreen:null===(_a=cfg.offscreen)||void 0===_a||_a};switch(cfg.type){case"iframe":return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(IFrame.a,{config:cfg})});case"figma":return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(Figma.a,{config:cfg}),offscreen:!1});case"experimental-figspec":return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(react.Suspense,{fallback:"Preparing Figspec viewer..."},Object(core_browser_esm.d)(Figspec,{config:cfg}))});case"image":return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(Image_ImagePreview,{config:cfg})});case"link":return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(LinkPanel_LinkPanel,{config:cfg})})}return Wrapper_assign(Wrapper_assign({},meta),{content:Object(core_browser_esm.d)(placeholder.a,null,Object(core_browser_esm.d)(react.Fragment,null,"Invalid config type"),Object(core_browser_esm.d)(react.Fragment,null,"Config type you set is not supported. Please choose one from"," ",Object(core_browser_esm.d)(link_link.a,{href:"https://github.com/pocka/storybook-addon-designs#available-types",target:"_blank",rel:"noopener",withArrow:!0,cancel:!1},"available config types")))})}));return 1===tabs.length?Object(core_browser_esm.d)("div",null,tabs[0].content):Object(core_browser_esm.d)(Tabs_Tabs,{tabs:tabs})},containers_Wrapper_Wrapper=function Wrapper(_a){if(!_a.active)return null;var state=Object(esm.k)(),config=Object(esm.i)("design");return Object(core_browser_esm.d)(Wrapper_Wrapper,{key:state.storyId,config:config})};!function register(renderTarget){public_api.a.register(AddonName,(function(api){var render=function render(_a){var active=_a.active,key=_a.key;return Object(core_browser_esm.d)(containers_Wrapper_Wrapper,{key:key,active:!!active})};"tab"===renderTarget?public_api.a.add(PanelName,{title:"Design",render:render,type:types.a.TAB,paramKey:"design",route:function route(_a){return"/design/"+_a.storyId},match:function match(_a){return"design"===_a.viewMode}}):public_api.a.addPanel(PanelName,{title:"Design",paramKey:"design",render:render})}))}("panel")},778:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var esm=__webpack_require__(184),create=__webpack_require__(187),logo_with_text=__webpack_require__.p+"static/media/logo-with-text.79a9da84.svg",storybook_addon_designs_package=__webpack_require__(386);esm.a.setConfig({theme:Object(create.a)({brandTitle:"storybook-addon-designs",brandImage:logo_with_text,brandUrl:storybook_addon_designs_package.homepage}),showRoots:!0})}},[[408,2,3]]]);